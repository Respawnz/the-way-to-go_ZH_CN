# 14.10 复用

## 14.10.1 典型的客户端/服务器（C/S）模式

客户端-服务器应用正是goroutines和channels的亮点所在。

客户端(Client)可以是运行在任意设备上的任意程序，它会按需发送请求(request)至服务器。服务器(Server)接收到这个请求后开始相应的工作，然后再将响应(response)返回给客户端。典型情况下一般是多个客户端（既多个请求）对应一个（或少量）服务器。例如我们日常使用的浏览器客户端，其功能就是向服务器请求网页。而Web服务器则会向浏览器响应网页数据。

使用Go的服务器通常会在 goroutine 中执行向客户端的响应，故而会对每一个客户端请求启动一个 goroutine。通常的手法是客户端请求中自身包含一个通道，而服务器则向这个通道发送响应。

例如下面这个Request结构，其中内嵌了一个replyc channel。
```go
type Request struct {
    a, b      int    
    replyc    chan int // reply channel inside the Request
}
```
或者更通俗的：
```go
type Reply struct{...}
type Request struct{
    arg1, arg2, arg3 some_type
    replyc chan *Reply
}
```
 
